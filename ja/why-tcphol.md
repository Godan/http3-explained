## TCP head of line ブロッキング
HTTP/2はTCPを使って動作し、従来のバージョンのHTTPを使用するよりも少ないTCPコネクション数になります。
TCPは信頼性の高い転送のためのプロトコルで、基本的には2つのマシンの間につながった仮想的な鎖のように考えることができます。
一方のネットワーク上に出されたデータは、結果的に、もう一方に全く同じ順番で到達します。（または、通信が途切れます。）

![a TCP chain between two computers](../images/tcp-chain.png)

HTTP/2を使うことで、典型的なブラウザは数十または数百の並列データ転送を単一のTCPコネクション上で行います。

HTTP/2を話す2つのエンドポイント間にあるネットワーク上で一つのパケットがドロップされると、
それはすなわち、その損失したパケットが再送され、宛先に届けられるまでの間、TCPコネクション全体が停止することを意味します。
TCPがこの「鎖」であるため、一つの繋がりが突然行方不明になると、それ以降に続くものすべてがその失われたものを待つ必要があります。（要校正）

2つの別々のストリームを単一コネクションで送信するときに鎖を使って図解したイラスト。
赤色のストリームと緑色のストリーム:

![the chain showing links in different colors](../images/tcp-chain-streams.png)


これが、TCPベースのHoLブロックになります！

パケットロス率が上がることで、HTTP/2のパフォーマンスはより悪くなります。
2%のパケットロス(これはかなりひどいです、念のため。)があるネットワーク環境では、
大抵の場合においてHTTP/1のほうがパフォーマンスが良くなることをテストが証明しています。
これは、HTTP/1では合わせて6つのTCPコネクションを使ってパケットを送信するため、パケットが損失した箇所があっても他のコネクションが止まることはないからです。

この問題を解消するのは簡単ではありません。TCPを使っている限り。

## ブロックを解消するための独立したストリーム

QUICでは、2つのエンドポイントの間に、接続を安全にし、データ配信を信頼できるものにするコネクションのセットアップが依然として存在します。

![a QUIC chain between two computers](../images/tcp-chain.png)

しかし、このコネクション上で2つの異なるストリームをセットアップする際、それらは独立したものとして扱われるため、
一つのストリームのある繋がりが損失した場合、そのストリームの、特定のチェインのみが、停止し再送制御を行います。

黄色のストリームと青色のストリームがそれぞれ2つのエンドポイント間で通信を行うイラストがこちらです。

![two QUIC streams between two computers](../images/quic-chain-streams.png)
